<!-- Alertas/Notificaciones -->
<div class="card mt-4">
    <h5 class="mb-3">Alertas importantes</h5>
    <ul class="p-0 m-0" style="list-style:none;">
        <li *ngIf="contratosPorVencer > 0" class="mb-2">
            <i class="pi pi-exclamation-triangle text-orange-500 mr-2"></i>
            <span>Hay contratos por vencer en los próximos 30 días.</span>
            <a routerLink="/contratos" class="p-button-link p-ml-2">Ver contratos</a>
        </li>
        <li *ngIf="ticketsAbiertos > 0" class="mb-2">
            <i class="pi pi-ticket text-red-500 mr-2"></i>
            <span>{{ ticketsAbiertos }} tickets abiertos requieren atención.</span>
            <a routerLink="/tickets" class="p-button-link p-ml-2">Ver tickets</a>
        </li>
        <!-- Agrega más alertas según tu lógica -->
    </ul>
</div>


<h4 class="mb-4">Vista general del sistema</h4>

<!-- KPIs -->
<div class="grid">
    <!-- Mantenimientos Programados -->
    <div class="col-12 md:col-6 xl:col-2">
        <div class="card text-center p-3 h-full flex flex-column justify-content-center" style="min-height: 180px;">
            <div class="flex flex-column align-items-center">
                <span class="text-500 font-medium mb-1">Mantenimientos Programados</span>
                <i class="pi pi-calendar-plus text-blue-500 text-3xl mb-2" pTooltip="Ver mantenimientos programados" tooltipPosition="top"></i>
                <div class="text-900 font-bold text-2xl mb-1">{{ mantenimientosProgramados }}</div>
                <a routerLink="/mantenimientos" class="p-button p-button-text p-button-sm">Ir a módulo</a>
            </div>
        </div>
    </div>
    <!-- Mantenimientos Ejecutados -->
    <div class="col-12 md:col-6 xl:col-2">
        <div class="card text-center p-3 h-full flex flex-column justify-content-center" style="min-height: 180px;">
            <div class="flex flex-column align-items-center">
                <span class="text-500 font-medium mb-1">Mantenimientos Ejecutados</span>
                <i class="pi pi-check-circle text-green-500 text-3xl mb-2" pTooltip="Ver ejecutados" tooltipPosition="top"></i>
                <div class="text-900 font-bold text-2xl mb-1">{{ mantenimientosEjecutados }}</div>
                <div class="text-green-600 font-bold text-sm">
                    {{ mantenimientosProgramados > 0 ? ((mantenimientosEjecutados / mantenimientosProgramados) * 100 | number:'1.0-0') : 0 }}%
                </div>
            </div>
        </div>
    </div>
    <!-- Equipos Activos -->
    <div class="col-12 md:col-6 xl:col-2">
        <div class="card text-center p-3 h-full flex flex-column justify-content-center" style="min-height: 180px;">
            <div class="flex flex-column align-items-center">
                <span class="text-500 font-medium mb-1">Equipos Activos</span>
                <i class="pi pi-desktop text-cyan-500 text-3xl mb-2" pTooltip="Ver equipos" tooltipPosition="top"></i>
                <div class="text-900 font-bold text-2xl mb-1">{{ equiposActivos }}</div>
                <span class="text-500 text-xs">Área líder: <b>{{ areaMayorEquipos }}</b></span>
            </div>
        </div>
    </div>
    <!-- Tickets Abiertos -->
    <div class="col-12 md:col-6 xl:col-2">
        <div class="card text-center p-3 h-full flex flex-column justify-content-center" style="min-height: 180px;">
            <div class="flex flex-column align-items-center">
                <span class="text-500 font-medium mb-1">Tickets Abiertos</span>
                <i class="pi pi-exclamation-circle text-orange-500 text-3xl mb-2" pTooltip="Tickets abiertos" tooltipPosition="top"></i>
                <div class="text-900 font-bold text-2xl mb-1">{{ ticketsAbiertos }}</div>
            </div>
        </div>
    </div>
    <!-- Tickets Asignados -->
    <div class="col-12 md:col-6 xl:col-2">
        <div class="card text-center p-3 h-full flex flex-column justify-content-center" style="min-height: 180px;">
            <div class="flex flex-column align-items-center">
                <span class="text-500 font-medium mb-1">Tickets Asignados</span>
                <i class="pi pi-user-edit text-blue-600 text-3xl mb-2" pTooltip="Tickets asignados" tooltipPosition="top"></i>
                <div class="text-900 font-bold text-2xl mb-1">{{ ticketsAsignados }}</div>
            </div>
        </div>
    </div>
    <!-- Tickets Resueltos -->
    <div class="col-12 md:col-6 xl:col-2">
        <div class="card text-center p-3 h-full flex flex-column justify-content-center" style="min-height: 180px;">
            <div class="flex flex-column align-items-center">
                <span class="text-500 font-medium mb-1">Tickets Resueltos</span>
                <i class="pi pi-check text-green-600 text-3xl mb-2" pTooltip="Tickets resueltos" tooltipPosition="top"></i>
                <div class="text-900 font-bold text-2xl mb-1">{{ ticketsResueltos }}</div>
            </div>
        </div>
    </div>
    <!-- Contratos por vencer -->
    <div class="col-12 md:col-6 xl:col-2">
        <div class="card text-center p-3 h-full flex flex-column justify-content-center" style="min-height: 180px;">
            <div class="flex flex-column align-items-center">
                <span class="text-500 font-medium mb-1">Contratos por vencer</span>
                <i class="pi pi-calendar-times text-purple-500 text-3xl mb-2" pTooltip="Ver contratos" tooltipPosition="top"></i>
                <div class="text-900 font-bold text-2xl mb-1">{{ contratosPorVencer }}</div>
                <a routerLink="/contratos" class="p-button p-button-text p-button-sm">Ver contratos</a>
            </div>
        </div>
    </div>
</div>

<!-- Gráficos sugeridos -->
<div class="grid mt-4">
    <div class="col-12 md:col-6">
        <div class="card">
            <h5 class="mb-3">Equipos activos por área</h5>
            <!-- Aquí puedes insertar un gráfico de barras PrimeNG -->
            <p-chart type="bar" [data]="equiposPorAreaChartData" [options]="chartOptions"></p-chart>
        </div>
    </div>
    <div class="col-12 md:col-6">
        <div class="card">
            <h5 class="mb-3">Mantenimientos por tipo</h5>
            <!-- Aquí puedes insertar un gráfico donut PrimeNG -->
            <p-chart type="doughnut" [data]="mantenimientosPorTipoChartData" [options]="chartOptions"></p-chart>
        </div>
    </div>
</div>

<!-- Accesos rápidos -->
<div class="card mt-4">
    <h5 class="mb-3">Accesos rápidos</h5>
    <div class="flex flex-wrap gap-3 justify-content-center">
        <a routerLink="/mantenimientos/nuevo" class="p-button p-component p-button-info"><i class="pi pi-plus mr-2"></i>Registrar mantenimiento</a>
        <a routerLink="/tickets/nuevo" class="p-button p-component p-button-warning"><i class="pi pi-ticket mr-2"></i>Crear ticket</a>
        <a routerLink="/equipos/historial" class="p-button p-component p-button-success"><i class="pi pi-database mr-2"></i>Consultar historial</a>
        <a routerLink="/contratos/nuevo" class="p-button p-component p-button-help"><i class="pi pi-upload mr-2"></i>Subir contrato</a>
        <a routerLink="/reportes" class="p-button p-component p-button-secondary"><i class="pi pi-chart-bar mr-2"></i>Ver reportes</a>
    </div>
</div>


